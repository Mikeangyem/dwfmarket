<div class="container-fluid">
  
    <div class="card-header">
      	<h3>
      		<i class="bi bi-tags-fill"></i> &nbsp;Categorías
      		<button (click)="createCategory()" style="float: right" type="button" class="btn btn-success btn-sm">
      			Agregar Categoría
      			<i class="bi bi-plus-lg"></i>
      		</button>
      	</h3>
    </div>

    <div class="card-body">
    	<div class="table-responsive">
    		<table class="table">
    			<thead class="thead-light">
    				<tr>
    					<th class="text-center">Categoría</th>
    					<th class="text-center"></th>
    				</tr>
    			</thead>
    			<tbody>
    				<tr *ngFor="let category of categories">
    					<td class="text-center">{{ category.category }}</td>
    					<td>
	    					<button (click)="updateCategory(category)" type="button" class="btn btn-primary btn-sm">
	    						Editar
	    						<i class="bi bi-pencil-square"></i>
	    					</button>
	    					&nbsp;&nbsp;
	    					<button (click)="deleteCategory(category.id_category)" type="button" class="btn btn-danger btn-sm">
	    						Eliminar
	    						<i class="bi bi-trash"></i>
	    					</button>
	    				</td>
    				</tr>
    			</tbody>
    		</table>
    	</div>
    </div>

    <div class="card-footer text-muted">
		<button (click)="reloadTable()" style="float: right" type="button" class="btn btn-info btn-sm">
      		<i class="bi bi-arrow-repeat"></i>
      	</button>
      	<br>
      	<br>
    </div>
</div>

<div class="modal" tabindex="-1" id="category_modal">
  	<div class="modal-dialog">
	    <div class="modal-content">

    		<div class="modal-header">
        		<h5 class="modal-title">Categoría</h5>
        		<button (click)="closeModal()" type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      		</div>

      		<div class="modal-body">
        		<form [formGroup]="formulario" (ngSubmit)="onSubmit()">
        			<div class="form-group">
        				<label for="rate">Ingresa nombre de la Categoría <span class="text-danger">*</span></label>
        				<input type="text" class="form-control marginForm" id="category" formControlName="category" placeholder="Categoría...">
        				<div *ngIf="submitted && f['category'].errors">
        					<div *ngIf="f['category'].errors['required']">
        						<span class="text-danger">
        							El nombre de la categoría es obligatorio.
        						</span>
        					</div>
        				</div>
        			</div>
        			<div>
        				<br>
        				<p class="text-right"><span class="text-danger">*</span> Campos obligatorios.</p>
        				<button type="submit" class="btn btn-success btn-block" [disabled]="isDisabled">
        					{{ button_text }}
        				</button>
        			</div>
        		</form>
      		</div>

      		<div class="modal-footer">
        		<button (click)="closeModal()" type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
      		</div>

    	</div>
  	</div>
</div>
